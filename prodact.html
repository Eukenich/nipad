<!DOCTYPE html>
<html ng-app="nikitaPad" lang="en">

<head>
    <title>NiPad</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.angularjs.org/1.6.4/angular-touch.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    
    <script>
        angular.module('nikitaPad', ['ui.bootstrap.modal'])
  .controller('npCtrl', function ($scope/*, $uibModal*/) {
    $scope.tempLoad = '1'

    $scope.downloadText = function (text) {
            text = (JSON.parse(localStorage.saveText)) ? JSON.parse(localStorage.saveText) : ''
      $scope.loaded = text
    }

    $scope.uploadText = function (text) {
      localStorage.saveText = JSON.stringify(text)
    }

  $scope.open = function() {
    $scope.showModal = true;
  };

  $scope.ok = function() {
    $scope.showModal = false;
  };

  $scope.cancel = function() {
    $scope.showModal = false;
  };
    });
    </script>

</head>
<body data-ng-app="">
<div class="container" ng-controller="npCtrl">

    <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <p>Some text in the modal.
          <button type="button" class="btn btn-info" ng-click="uploadText(loaded)"><span
                class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span> Save
        </button></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
 
    <div>
      <!--  <button type="button" class="btn btn-primary" ng-click=""><span class="" aria-hidden="true"></span>Menu</button>  Будет добавлена, когда появится функционал -->
        <button type="button" class="btn btn-success" ng-click=""><span class="glyphicon glyphicon-chevron-left"
                                                                        aria-hidden="true"></span></button>
        <button type="button" class="btn btn-success" ng-click=""><span class="glyphicon glyphicon-chevron-right"
                                                                        aria-hidden="true"></span></button>
        <button type="button" class="btn btn-danger" ng-click="downloadText(tempLoad)"><span
        
                class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span> Load
        </button>
        <button type="button" class="btn btn-info btn" data-toggle="modal" data-target="#myModal">Save</button>
        <button type="button" class="btn btn-default" ng-click=""><span class="glyphicon glyphicon-info-sign"
                                                                        aria-hidden="true"></span></button>

    </div>
    <div class="form-group">
        <textarea class="form-control" ng-model="loaded" ng-change="saveTextLocal(loaded)" cols="30"
                  rows="10"></textarea>
    </div>

</div>
</body>
</html>